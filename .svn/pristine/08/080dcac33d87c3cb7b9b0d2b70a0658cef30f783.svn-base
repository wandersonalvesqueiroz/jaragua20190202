<div id="modwarnings">    <div class="warnings">        <?php        if(!class_exists('ContentHelperRoute'))            require_once (JPATH_SITE . '/components/com_content/helpers/route.php');        if(count($warnings) > 1):            ?>        <div class="slider-wrap">            <div class="slider">                <ul>                    <?php                    $count = 0;                    foreach ($warnings as $warning) {                        $db = JFactory::getDBO();                        $querymenu = $db->getQuery(true);                        $querymenu->select('path');                        $querymenu->from('#__menu');                        $querymenu->where('link LIKE "%com_content&view=article&id=' . $warning->id_article . '%"');                        $db->setQuery($querymenu);                        $menu = $db->loadObjectList();                        if (!empty($menu)) {                            $link = 'index.php/' . $menu[0]->path;                        } else {                            $link = JRoute::_(ContentHelperRoute::getArticleRoute($warning->id_article . ':' . $warning->aliasarticle, $warning->idcategory));                        }                        $introtext = substr($warning->intro, '0', 300);                        $last = strrpos($introtext, " ");                        $introtext = substr($introtext, 0, $last);                        $introtext = $introtext . "...";                        echo '<li>';                        echo '<div>';                        echo '<div class="warning">';                        echo '<a href="'.$link.'">';                        echo '<h1>'.$warning->titlearticle.'</h1>';                        echo $introtext;                        echo '</a>';                        echo '</div>';                        echo '</div>';                        echo '</li>';                        $count++;                    }                    ?>                </ul>            </div>            <a href="#" class="slider-arrow sa-left"><img src="<?php echo JURI::base().'modules/'.$module->module.'/assets/images/prev.png'; ?>"></a>            <a href="#" class="slider-arrow sa-right"><img src="<?php echo JURI::base().'modules/'.$module->module.'/assets/images/next.png'; ?>"></a>        </div>        <?php        else:            foreach ($warnings as $warning) {                $db = JFactory::getDBO();                $querymenu = $db->getQuery(true);                $querymenu->select('path');                $querymenu->from('#__menu');                $querymenu->where('link LIKE "%com_content&view=article&id=' . $warning->id_article . '%"');                $db->setQuery($querymenu);                $menu = $db->loadObjectList();                if (!empty($menu)) {                    $link = 'index.php/' . $menu[0]->path;                } else {                    $link = JRoute::_(ContentHelperRoute::getArticleRoute($warning->id_article . ':' . $warning->aliasarticle, $warning->idcategory));                }                $introtext = substr($warning->intro, '0', 300);                $last = strrpos($introtext, " ");                $introtext = substr($introtext, 0, $last);                $introtext = $introtext . "...";                echo '<div class="warning">';                echo '<a href="'.$link.'">';                echo '<h1>'.$warning->titlearticle.'</h1>';                echo $introtext;                echo '</a>';                echo '</div>';            }        endif; ?>        <div>            <p class="all-warning">                <a href="<?= JRoute::_(ContentHelperRoute::getCategoryRoute($warning->idcategory)) ?>" class="btn btn-warnings">                    Todos os comunicados <i class="fas fa-angle-double-right"></i>                </a>            </p>        </div>    </div></div><script src="./modules/mod_warnings/assets/js/jquery.lbslider.js"></script><script>    jQuery(function ($) {        $('.moduletable-comunicado').prepend('<hr>');        $(window).on('resize', function () {            var largura = $(window).width();            if (largura > 1170) {                $('#modwarnings .slider').css('width', 1170);                $('#modwarnings ul li > div').css('width', 1170);            }            if (largura <= 1170 && largura > 960) {                $('#modwarnings .slider').css('width', 936);                $('#modwarnings ul li > div').css('width', 936);            }            if (largura <= 960 && largura > 768) {                $('#modwarnings .slider').css('width', 702);                $('#modwarnings ul li > div').css('width', 702);            }            if (largura <= 768 && largura > 480) {                $('#modwarnings .slider').css('width', 468);                $('#modwarnings ul li > div').css('width', 468);            }            if (largura <= 480 && largura > 0) {                $('#modwarnings .slider').css('width', 236);                $('#modwarnings ul li > div').css('width', 236);            }        }).trigger('resize');    });    jQuery('.slider').lbSlider({        leftBtn: '.sa-left',        rightBtn: '.sa-right',        visible: 1,        autoPlay: true,        autoPlayDelay: 12    });    jQuery('.slider').mouseover(function () {        jQuery('.slider-arrow').css('opacity', '1');    });    jQuery('.slider').mouseout(function () {        jQuery('.slider-arrow').css('opacity', '0');    });    jQuery('.slider-arrow').mouseover(function () {        jQuery('.slider-arrow').css('opacity', '1');    });    jQuery('.slider-arrow').mouseout(function () {        jQuery('.slider-arrow').css('opacity', '0');    });</script>